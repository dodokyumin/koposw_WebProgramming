<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.6.0.js"
      integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
      crossorigin="anonymous"
    ></script>
    <style>
    </style>
  </head>
  <body>
    <div>아이디 <input id="id" type="text" /></div>
    <div>비밀번호 <input id="pwd" type="password" /></div>
    <div>
      성별 <input id="man" name="gener" type="radio" /> 남자 &nbsp;&nbsp;
      <input id="woman" name="gener" type="radio" />여자
    </div>
    <div>직업 <select id="job" required>
      <option hidden></option>
      <option value="stu">학생</option>
      <option value="tea">선생</option>
      <option value="pro">교수</option>
    </select>
    <div>취미
      <input type="checkbox"
      id="hob"> 개발
      <input type="checkbox" id="hob"> 게임
      <input type="checkbox" id="hob"> 낚시
      <br>
      <input type="checkbox" id="hob"> 운동
      <input type="checkbox" id="hob"> 독서
      <input type="checkbox" id="hob"> 음악감상
    </div>
    <button id="cancel" >취소</button>
    <button id="submit">회원가입</button>
    <script>
      let $cancel = $('#cancel');
      let $submit = $('#submit');

      $cancel.click(function(){
        $("input").val("");
        $("input").prop("checked", false);
        $('select').val("");
      });
      //정규식을 이용하여 id 이메일 형식 여부 확인하기.
      function isValidEmailAddress(emailAddress) {
        var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
        return pattern.test(emailAddress);
      }
      $submit.click(function(){
        let checkBoxCnt = $("input:checkbox[id=hob]:checked").length;
        let $id = $("#id").val();
        let $pwd = $("#pwd").val();

        if($("#id").val() == ""){
          alert("아이디를 입력해주세요.");
        } else if( !isValidEmailAddress($id) ){
          alert("아이디는 이메일 형식이어야 합니다.");
        }
        else if($("#pwd").val() == ""){
          alert("비밀번호를 입력해주세요.");
        } else if ($pwd.length < 5){
          alert("비밀번호는 5자 이상이어야 합니다.");
        }
        else if($("input:radio[name=gener]").is(':checked') == false){
          alert("성별을 입력해주세요.");
        }
        else if($("#job option:checked").text() == ""){
          alert("직업을 선택해주세요.");
        }
        else if(checkBoxCnt < 3){
          alert("취미는 3개 이상 체크해야합니다.");
        }
        else{
          alert("회원가입을 축하드립니다.");
        }
      });
    </script>
  </body>
</html>
